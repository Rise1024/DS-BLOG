<view class="tree-node {{isRoot ? 'is-root' : ''}}">
  <view 
    class="node-header {{hasChildren || hasItems ? 'has-children clickable' : ''}}"
    bindtap="onNodeClick"
  >
    <!-- å±•å¼€/æŠ˜å å›¾æ ‡ -->
    <view wx:if="{{hasChildren || hasItems}}" class="toggle-icon">
      <text>{{expanded ? 'â–¼' : 'â–¶'}}</text>
    </view>
    <!-- å¶å­èŠ‚ç‚¹å›¾æ ‡ -->
    <view wx:else class="leaf-icon">
      <text>ğŸ“</text>
    </view>
    
    <text class="node-title">{{node.title || node.name}}</text>
    
    <text wx:if="{{nodeCount}}" class="node-count">{{nodeCount}}</text>
  </view>

  <!-- å­èŠ‚ç‚¹ -->
  <view wx:if="{{expanded && hasChildren}}" class="node-children">
    <tree-node
      wx:for="{{node.children}}"
      wx:key="id"
      wx:for-item="child"
      node="{{child}}"
      path="{{path}}"
      is-root="{{false}}"
      bind:nodeclick="onChildNodeClick"
      bind:itemclick="onChildItemClick"
    />
  </view>

  <!-- é¡¹ç›®åˆ—è¡¨ï¼ˆæ–‡ç« /é¢˜ç›®ï¼‰ -->
  <view wx:if="{{expanded && hasItems}}" class="node-items">
    <view
      wx:for="{{node.items}}"
      wx:key="id"
      wx:for-item="item"
      class="item"
      bindtap="onItemClick"
      data-item="{{item}}"
    >
      <view class="item-icon">ğŸ“„</view>
      <text class="item-title">{{item.title}}</text>
    </view>
  </view>
</view>

