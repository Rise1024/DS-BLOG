<view class="container">
  <login-modal 
    show="{{showLoginModal}}" 
    bindclose="handleCloseLoginModal" 
    bindlogin="handleGetUserInfo"
  />
  <view class="login-section" wx:if="{{!userInfo}}">
    <view class="avatar-wrapper">
      <image class="default-avatar" src="/images/default-avatar.png" mode="aspectFill" />
    </view>
    <button 
      class="login-btn" 
      bindtap="handleShowLoginModal"
    >
      微信登录
    </button>
  </view>

  <view class="user-section" wx:else>
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill" />
      <text class="nickname">{{userInfo.nickName}}</text>
    </view>
    
    <view class="menu-list">
      <view class="menu-item" bindtap="navigateToHistory">
        <view class="menu-item-content">
          <text class="menu-item-text">历史记录</text>
          <text class="menu-item-arrow">></text>
        </view>
      </view>
      <view class="menu-item" bindtap="navigateToTheme">
        <view class="menu-item-content">
          <text class="menu-item-text">主题设置</text>
          <text class="menu-item-arrow">></text>
        </view>
      </view>
      <view class="menu-item" bindtap="navigateToFeedback">
        <view class="menu-item-content">
          <text class="menu-item-text">意见反馈</text>
          <text class="menu-item-arrow">></text>
        </view>
      </view>
      <view class="menu-item" bindtap="navigateToAbout">
        <view class="menu-item-content">
          <text class="menu-item-text">关于我们</text>
          <text class="menu-item-arrow">></text>
        </view>
      </view>
    </view>

    <button class="logout-btn" bindtap="handleLogout">退出登录</button>
  </view>
</view>