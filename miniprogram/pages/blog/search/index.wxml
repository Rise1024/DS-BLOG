<view class="search-container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input-wrapper">
      <input 
        class="search-input" 
        placeholder="æœç´¢æ–‡ç« ..." 
        value="{{searchKeyword}}"
        bindinput="onSearchInput"
        bindconfirm="onSearch"
        confirm-type="search"
        focus="{{true}}"
      />
      <view class="search-icon" bindtap="onSearch">
        <text class="iconfont icon-search">ğŸ”</text>
      </view>
    </view>
  </view>

  <!-- æœç´¢å†å² -->
  <view wx:if="{{!isSearching && searchHistory.length > 0}}" class="search-history">
    <view class="history-header">
      <text class="history-title">æœç´¢å†å²</text>
      <text class="clear-history" bindtap="clearHistory">æ¸…ç©º</text>
    </view>
    <view class="history-tags">
      <text 
        wx:for="{{searchHistory}}" 
        wx:key="*this"
        class="history-tag"
        bindtap="selectHistoryKeyword"
        data-keyword="{{item}}"
      >
        {{item}}
      </text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{isLoading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">æœç´¢ä¸­...</text>
  </view>

  <!-- æœç´¢ç»“æœ -->
  <view wx:elif="{{searchResults.length > 0}}" class="search-results">
    <view class="results-header">
      <text class="results-count">æ‰¾åˆ° {{searchResults.length}} ç¯‡æ–‡ç« </text>
    </view>
    
    <scroll-view class="results-list" scroll-y="true">
      <view 
        wx:for="{{searchResults}}" 
        wx:key="id"
        class="result-item"
        bindtap="goToArticle"
        data-article="{{item}}"
      >
        <view class="result-header">
          <text class="result-title">{{item.title}}</text>
          <text class="result-date">{{item.createdAt}}</text>
        </view>
        
        <text class="result-description">{{item.description}}</text>
        
        <view class="result-tags">
          <text 
            wx:for="{{item.tags}}" 
            wx:key="*this"
            class="result-tag"
          >
            {{item}}
          </text>
        </view>
        
        <view class="result-meta">
          <text class="result-category">{{item.category}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:elif="{{!isLoading && searchKeyword}}" class="empty-state">
    <text class="empty-icon">ğŸ”</text>
    <text class="empty-text">æœªæ‰¾åˆ°ç›¸å…³æ–‡ç« </text>
    <text class="empty-tip">è¯•è¯•å…¶ä»–å…³é”®è¯</text>
  </view>

  <!-- åˆå§‹çŠ¶æ€ -->
  <view wx:elif="{{!isLoading && !searchKeyword}}" class="initial-state">
    <text class="initial-icon">ğŸ“</text>
    <text class="initial-text">è¾“å…¥å…³é”®è¯æœç´¢æ–‡ç« </text>
  </view>
</view>
